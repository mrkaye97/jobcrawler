{% extends "base.html" %}

{% block content %}
<div class="login-container">
    <div class="login-box">
        <h3 class="login-title">Sign Up</h3>
        <form method="POST" action="/signup">
            <div class="field">
                <div class="control">
                    <input class="login-input" type="email" name="email" placeholder="Email" autofocus="">
                </div>
            </div>
            <div class="field">
                <div class="control">
                    <input class="login-input" type="text" name="first_name" placeholder="First Name" autofocus="">
                </div>
            </div>
            <div class="field">
                <div class="control">
                    <input class="login-input" type="password" name="password" placeholder="Password">
                </div>
            </div>
            <div class="field">
                <div class="control">
                    <input class="login-input" type="text" name="default_search_regex"
                        placeholder="Default Search (Accepts Regex)">
                </div>
            </div>
            <div class="field">
                <div class="control">
                    <select class="form-select" id="email_frequency_days" name="email_frequency_days" required>
                        <option disabled selected value="">Email Frequency (in days)</option>
                        {% for i in range(1, 8) %}
                        <option value="{{ i }}" {% if current_user.email_frequency_days==i %}selected{% endif %}>{{ i }}
                        </option>
                        {% endfor %}
                        <option value=10000 {% if current_user.email_frequency_days==10000 %}selected{% endif %}>Don't
                            Send Me Emails
                        </option>
                    </select>
                </div>
            </div>
            <br>
            <button class="login-button" type="submit">Submit</button>
            {% with messages = get_flashed_messages() %}
            {% if messages %}
            <div class="notification is-danger">
                {{ messages[0] }}. Go to <a href="{{ url_for('auth_bp.login') }}">login page</a>.
            </div>
            {% endif %}
            {% endwith %}
        </form>
    </div>
</div>
{% endblock %}